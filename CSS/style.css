/* ==================== */
/* 全局樣式重置 */
/* ==================== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background-color: #f8f9fa;
  color: #333;
  line-height: 1.6;
}

/* ==================== */
/* 主容器 */
/* ==================== */
.main-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

/* ==================== */
/* 篩選器區域 - 在上方 */
/* ==================== */
#filter-section {
  background-color: #ffffff;
  padding: 25px;
  border-radius: 12px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
  margin-bottom: 30px;
  border: 1px solid #e9ecef;
}

/* ==================== */
/* 篩選器組樣式 */
/* ==================== */
.filter-group {
  padding: 16px 0;
  border-bottom: 1px solid #e9ecef;
  margin: 0;
  width: 100%;
}

.filter-group:last-child {
  border-bottom: none;
}

/* ==================== */
/* 篩選器標題和標籤 */
/* ==================== */
.filter-header {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 12px;
}

.filter-title {
  font-weight: 600;
  white-space: nowrap;
  font-size: 15px;
  color: #495057;
  min-width: 60px;
  display: flex;
  align-items: center;
  height: 36px;
}

.filter-tabs {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

/* ==================== */
/* 篩選器標籤按鈕 */
/* ==================== */
.filter-tab {
  background: #ffffff;
  border: 1px solid #dee2e6;
  cursor: pointer;
  color: #495057;
  font-size: 13px;
  border-radius: 6px;
  padding: 8px 14px;
  height: 36px;
  line-height: 20px;
  transition: all 0.2s ease;
  font-weight: 500;
}

.filter-tab:hover {
  border-color: #adb5bd;
  background-color: #f8f9fa;
}

.filter-tab.active {
  color: #ff5a5f;
  font-weight: 600;
  border-color: #ff5a5f;
  background-color: #fff5f5;
}

/* ==================== */
/* 篩選器選項面板 */
/* ==================== */
.filter-panel {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
  padding-left: 80px; /* 對齊標題 */
}

.filter-panel.open {
  max-height: 400px;
  margin-top: 10px;
}

/* ==================== */
/* 位置篩選器選項 */
/* ==================== */
.location-option {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  cursor: pointer;
  color: #495057;
  border-radius: 6px;
  border: 1px solid #dee2e6;
  background: #ffffff;
  transition: all 0.2s ease;
}

.location-option:hover {
  border-color: #adb5bd;
  background-color: #f8f9fa;
}

.location-option span {
  font-size: 13px;
}

.location-option input {
  accent-color: #ff5a5f;
}

.location-option.active {
  color: #ff5a5f;
  font-weight: 600;
  border-color: #ff5a5f;
  background-color: #fff5f5;
}

/* 修改這裡：移除 .location-option.unlimited 的固定樣式 */
.location-option.unlimited {
  /* 移除以下這些顏色設定 */
  /* border-color: #ff5a5f;
  background-color: #fff5f5;
  color: #ff5a5f; */
  
  /* 改為普通樣式，只有當有 .active 類別時才變色 */
  border-color: #dee2e6;
  background-color: #ffffff;
  color: #495057;
}

/* 添加這個：當不限選項被選中時才變色 */
.location-option.unlimited.active {
  color: #ff5a5f;
  font-weight: 600;
  border-color: #ff5a5f;
  background-color: #fff5f5;
}

/* ==================== */
/* 特殊篩選器樣式 */
/* ==================== */
.filter-group[data-filter-key="price"] .filter-panel,
.filter-group[data-filter-key="shape"] .filter-panel,
.filter-group[data-filter-key="layout"] .filter-panel,
.filter-group[data-filter-key="square"] .filter-panel,
.filter-group[data-filter-key="type"] .filter-panel,
.filter-group[data-filter-key="more"] .filter-panel {
  display: none !important;
}

/* 價格、型態、格局、權狀選項 */
.price-option,
.shape-option,
.layout-option,
.square-option {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  color: #495057;
  height: 36px;
  line-height: 20px;
  white-space: nowrap;
  font-size: 13px;
  background-color: #ffffff;
  border-radius: 6px;
  border: 1px solid #dee2e6;
  padding: 8px 12px;
  transition: all 0.2s ease;
}

.price-option:hover,
.shape-option:hover,
.layout-option:hover,
.square-option:hover {
  border-color: #adb5bd;
  background-color: #f8f9fa;
}

.price-option input,
.shape-option input,
.layout-option input,
.square-option input {
  accent-color: #ff5a5f;
}

.price-option.active,
.shape-option.active,
.layout-option.active,
.square-option.active {
  color: #ff5a5f;
  font-weight: 600;
  border-color: #ff5a5f;
  background-color: #fff5f5;
}

/* ==================== */
/* 權狀下拉框特殊樣式 */
/* ==================== */
.square-dropdown-container {
  position: relative;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
}

.square-title-text {
  font-weight: 600;
  white-space: nowrap;
  color: #ff5a5f;
}

.square-dropdown-arrow {
  font-size: 10px;
  color: #868e96;
}

.square-dropdown-menu {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background: white;
  border: 1px solid #dee2e6;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  z-index: 1000;
  min-width: 90px;
  margin-top: 6px;
  overflow: hidden;
}

.square-dropdown-item {
  padding: 10px 14px;
  font-size: 13px;
  color: #495057;
  cursor: pointer;
  white-space: nowrap;
  transition: background-color 0.2s;
}

.square-dropdown-item:hover {
  background-color: #f8f9fa;
}

.square-dropdown-item.active {
  color: #ff5a5f;
  font-weight: 600;
  background-color: #fff5f5;
}

/* ==================== */
/* 更多篩選器樣式 */
/* ==================== */
.more-tab-wrapper {
  position: relative;
  display: inline-block;
}

.more-tabs {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.more-filter-tab {
  background: #ffffff;
  border: 1px solid #dee2e6;
  cursor: pointer;
  color: #495057;
  font-size: 13px;
  border-radius: 6px;
  padding: 8px 14px;
  height: 36px;
  line-height: 20px;
  transition: all 0.2s ease;
  font-weight: 500;
}

.more-filter-tab:hover {
  border-color: #adb5bd;
  background-color: #f8f9fa;
}

.more-filter-tab.active {
  color: #ff5a5f;
  font-weight: 600;
  border-color: #ff5a5f;
  background-color: #fff5f5;
}

.more-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background: white;
  border: 1px solid #dee2e6;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  z-index: 1000;
  min-width: 180px;
  max-height: 350px;
  overflow-y: auto;
  margin-top: 6px;
  padding: 8px 0;
}

.more-option {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  cursor: pointer;
  color: #495057;
  font-size: 13px;
  white-space: nowrap;
  transition: background-color 0.2s;
}

.more-option:hover {
  background-color: #f8f9fa;
}

.more-option input[type="checkbox"] {
  accent-color: #ff5a5f;
}

.more-option.active {
  color: #ff5a5f;
  font-weight: 600;
  background-color: #fff5f5;
}

/* ==================== */
/* 商品區域 - 在下方 */
/* ==================== */
#product-section {
  width: 100%;
  margin-top: 0;
}

/* 商品列表標題 */
.products-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 25px;
  padding-bottom: 15px;
  border-bottom: 1px solid #e9ecef;
}

.products-header h2 {
  margin: 0;
  color: #212529;
  font-size: 22px;
  font-weight: 600;
}

.product-count {
  color: #6c757d;
  font-size: 14px;
  background-color: #e9ecef;
  padding: 4px 10px;
  border-radius: 20px;
}

/* 商品網格 */
.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(580px, 1fr));
  gap: 25px;
}

/* 商品卡片 */
.product-card {
  display: flex;
  background-color: #ffffff;
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
  border: 1px solid #e9ecef;
  height: 230px;
}

.product-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
  border-color: #ff5a5f;
}

.product-left {
  width: 320px;
  position: relative;
  flex-shrink: 0;
}

.product-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.product-tag {
  position: absolute;
  top: 12px;
  left: 12px;
  background-color: rgba(255, 90, 95, 0.95);
  color: white;
  padding: 5px 10px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 600;
  backdrop-filter: blur(2px);
}

.product-right {
  flex: 1;
  padding: 22px;
  display: flex;
  flex-direction: column;
}

.product-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 16px;
}

.product-name {
  margin: 0;
  font-size: 18px;
  color: #212529;
  font-weight: 600;
  flex: 1;
  line-height: 1.4;
}

.product-price {
  font-size: 22px;
  color: #ff5a5f;
  font-weight: bold;
  margin-left: 15px;
  white-space: nowrap;
}

.product-details {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 14px;
  margin-bottom: 18px;
  padding: 18px 0;
  border-top: 1px solid #f1f3f5;
  border-bottom: 1px solid #f1f3f5;
}

.detail-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.detail-label {
  color: #6c757d;
  font-size: 13px;
  font-weight: 500;
}

.detail-value {
  color: #212529;
  font-weight: 600;
  font-size: 14px;
}

.product-description {
  color: #6c757d;
  font-size: 14px;
  line-height: 1.5;
  margin-bottom: 22px;
  flex: 1;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.product-detail-btn {
  align-self: flex-start;
  padding: 10px 22px;
  background-color: #ff5a5f;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  transition: background-color 0.2s;
}

.product-detail-btn:hover {
  background-color: #ff3b40;
}

/* 沒有商品時的樣式 */
.no-products {
  text-align: center;
  padding: 80px 20px;
  background-color: #ffffff;
  border-radius: 10px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.08);
  border: 1px solid #e9ecef;
}

.no-products h3 {
  color: #495057;
  margin-bottom: 12px;
  font-size: 18px;
}

.no-products p {
  color: #868e96;
  font-size: 15px;
}

/* ==================== */
/* 商品區域 - 在下方 */
/* ==================== */
#product-section {
  width: 100%;
  margin-top: 0;
}

/* 商品列表標題 */
.products-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 25px;
  padding-bottom: 15px;
  border-bottom: 1px solid #e9ecef;
}

.products-header h2 {
  margin: 0;
  color: #212529;
  font-size: 22px;
  font-weight: 600;
}

.product-count {
  color: #6c757d;
  font-size: 14px;
  background-color: #e9ecef;
  padding: 4px 10px;
  border-radius: 20px;
}

/* 商品網格 - 改為一行一個 */
.products-grid {
  display: flex;
  flex-direction: column;
  gap: 25px;
}

/* 商品卡片 - 一行一個 */
.product-card {
  display: flex;
  background-color: #ffffff;
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
  border: 1px solid #e9ecef;
  height: 230px;
  width: 100%; /* 確保寬度為100% */
}

.product-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
  border-color: #ff5a5f;
}

/* 調整商品卡片內部結構，讓圖片和內容比例更合適 */
.product-left {
  width: 350px; /* 增加圖片區域寬度 */
  position: relative;
  flex-shrink: 0;
}

.product-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.product-tag {
  position: absolute;
  top: 12px;
  left: 12px;
  background-color: rgba(255, 90, 95, 0.95);
  color: white;
  padding: 5px 10px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 600;
  backdrop-filter: blur(2px);
}

.product-right {
  flex: 1;
  padding: 25px;
  display: flex;
  flex-direction: column;
}

.product-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 18px;
}

.product-name {
  margin: 0;
  font-size: 20px; /* 稍微增大字體 */
  color: #212529;
  font-weight: 600;
  flex: 1;
  line-height: 1.4;
}

.product-price {
  font-size: 24px; /* 增大價格字體 */
  color: #ff5a5f;
  font-weight: bold;
  margin-left: 20px;
  white-space: nowrap;
}

.product-details {
  display: grid;
  grid-template-columns: repeat(4, 1fr); /* 改為4列，一行顯示所有詳細信息 */
  gap: 15px;
  margin-bottom: 18px;
  padding: 18px 0;
  border-top: 1px solid #f1f3f5;
  border-bottom: 1px solid #f1f3f5;
}

.detail-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.detail-label {
  color: #6c757d;
  font-size: 14px; /* 稍微增大字體 */
  font-weight: 500;
}

.detail-value {
  color: #212529;
  font-weight: 600;
  font-size: 15px;
}

.product-description {
  color: #6c757d;
  font-size: 15px; /* 增大描述字體 */
  line-height: 1.6;
  margin-bottom: 22px;
  flex: 1;
  display: -webkit-box;
  -webkit-line-clamp: 3; /* 顯示更多行描述 */
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.product-detail-btn {
  align-self: flex-start;
  padding: 10px 24px;
  background-color: #ff5a5f;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  transition: background-color 0.2s;
}

.product-detail-btn:hover {
  background-color: #ff3b40;
}

/* 沒有商品時的樣式 */
.no-products {
  text-align: center;
  padding: 80px 20px;
  background-color: #ffffff;
  border-radius: 10px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.08);
  border: 1px solid #e9ecef;
}

.no-products h3 {
  color: #495057;
  margin-bottom: 12px;
  font-size: 18px;
}

.no-products p {
  color: #868e96;
  font-size: 15px;
}

/* ==================== */
/* 商品詳細頁面樣式 */
/* ==================== */

/* 返回按鈕容器 */
.detail-back-btn-container {
  margin-bottom: 20px;
}

.detail-back-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: #495057;
  background-color: #f8f9fa;
  border: 1px solid #dee2e6;
  border-radius: 6px;
  padding: 10px 15px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s;
}

.detail-back-btn:hover {
  background-color: #e9ecef;
  color: #212529;
}

.detail-back-btn svg {
  width: 16px;
  height: 16px;
}

/* 詳細內容容器 */
.detail-content {
  background-color: #ffffff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  border: 1px solid #e9ecef;
}

/* 圖片區域 */
.detail-images {
  display: flex;
  flex-direction: column;
  gap: 15px;
  padding: 25px;
  background-color: #f8f9fa;
}

.detail-main-image {
  width: 100%;
  height: 400px;
  object-fit: cover;
  border-radius: 10px;
}

.detail-thumbnails {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}

.detail-thumb {
  width: 100%;
  height: 100px;
  object-fit: cover;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s;
  border: 2px solid transparent;
}

.detail-thumb:hover {
  transform: scale(1.05);
  border-color: #ff5a5f;
}

.detail-thumb.active {
  border-color: #ff5a5f;
}

/* 詳細信息區域 */
.detail-info {
  padding: 30px;
}

.detail-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 25px;
  padding-bottom: 20px;
  border-bottom: 1px solid #e9ecef;
}

.detail-title {
  margin: 0;
  color: #212529;
  font-size: 28px;
  font-weight: 700;
  line-height: 1.3;
}

.detail-tag {
  display: inline-block;
  background-color: #ff5a5f;
  color: white;
  padding: 6px 12px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 600;
  margin-top: 10px;
}

.detail-price {
  font-size: 32px;
  color: #ff5a5f;
  font-weight: bold;
  white-space: nowrap;
}

/* 規格區域 */
.detail-specs {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  margin-bottom: 30px;
  padding: 25px;
  background-color: #f8f9fa;
  border-radius: 10px;
}

.spec-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  border-bottom: 1px solid #e9ecef;
}

.spec-item:last-child {
  border-bottom: none;
}

.spec-label {
  color: #6c757d;
  font-size: 16px;
  font-weight: 500;
}

.spec-value {
  color: #212529;
  font-weight: 600;
  font-size: 17px;
}

/* 描述區域 */
.detail-description {
  margin-bottom: 30px;
}

.detail-description h3 {
  color: #212529;
  margin-bottom: 15px;
  font-size: 20px;
  font-weight: 600;
}

.detail-description p {
  color: #495057;
  line-height: 1.7;
  font-size: 16px;
  margin-bottom: 15px;
}

/* 特色區域 */
.detail-features {
  margin-bottom: 30px;
}

.detail-features h3 {
  color: #212529;
  margin-bottom: 15px;
  font-size: 20px;
  font-weight: 600;
}

.features-list {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  padding-left: 20px;
}

.features-list li {
  color: #495057;
  margin-bottom: 8px;
  font-size: 15px;
}

/* 操作按鈕區域 */
.detail-actions {
  display: flex;
  gap: 15px;
  padding-top: 25px;
  border-top: 1px solid #e9ecef;
}

.action-btn {
  padding: 12px 24px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 15px;
  font-weight: 600;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.action-btn svg {
  width: 18px;
  height: 18px;
}

.btn-contact {
  background-color: #ff5a5f;
  color: white;
  flex: 2;
}

.btn-contact:hover {
  background-color: #ff3b40;
}

.btn-favorite {
  background-color: #ffffff;
  color: #495057;
  border: 1px solid #dee2e6;
  flex: 1;
}

.btn-favorite:hover {
  background-color: #f8f9fa;
}

.btn-favorite.active {
  background-color: #ff5a5f;
  color: white;
  border-color: #ff5a5f;
}

.btn-share {
  background-color: #f8f9fa;
  color: #495057;
  border: 1px solid #dee2e6;
  flex: 1;
}

.btn-share:hover {
  background-color: #e9ecef;
}

/* 響應式設計 */
@media (max-width: 768px) {
  .detail-main-image {
    height: 300px;
  }
  
  .detail-thumbnails {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .detail-header {
    flex-direction: column;
    gap: 15px;
  }
  
  .detail-specs {
    grid-template-columns: 1fr;
  }
  
  .features-list {
    grid-template-columns: 1fr;
  }
  
  .detail-actions {
    flex-direction: column;
  }
}

@media (max-width: 480px) {
  .detail-title {
    font-size: 24px;
  }
  
  .detail-price {
    font-size: 28px;
  }
  
  .detail-thumb {
    height: 80px;
  }
}

/* ==================== */
/* 主容器布局 */
/* ==================== */
.main-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

/* ==================== */
/* 篩選器和商品列表容器 */
/* ==================== */
#main-content {
  transition: opacity 0.3s ease;
}

/* 當詳細頁面顯示時，主內容隱藏 */
#main-content[style*="display: none"] {
  display: none !important;
}

/* ==================== */
/* 商品詳細頁面樣式 - 獨立頁面 */
/* ==================== */

/* 詳細頁面容器 */
#product-detail-section {
  width: 100%;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* 返回按鈕容器 */
.detail-back-btn-container {
  margin-bottom: 25px;
}

.detail-back-btn {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  color: #495057;
  background-color: #f8f9fa;
  border: 1px solid #dee2e6;
  border-radius: 8px;
  padding: 12px 18px;
  cursor: pointer;
  font-size: 15px;
  font-weight: 500;
  transition: all 0.2s;
}

.detail-back-btn:hover {
  background-color: #e9ecef;
  color: #212529;
  transform: translateX(-3px);
}

.detail-back-btn svg {
  width: 18px;
  height: 18px;
}

/* 詳細內容容器 */
.detail-content {
  background-color: #ffffff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  border: 1px solid #e9ecef;
}

/* 圖片區域 */
.detail-images {
  display: flex;
  flex-direction: column;
  gap: 15px;
  padding: 25px;
  background-color: #f8f9fa;
}

.detail-main-image {
  width: 100%;
  height: 450px;
  object-fit: cover;
  border-radius: 10px;
}

.detail-thumbnails {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}

.detail-thumb {
  width: 100%;
  height: 120px;
  object-fit: cover;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s;
  border: 3px solid transparent;
}

.detail-thumb:hover {
  transform: scale(1.05);
  border-color: #ff5a5f;
}

.detail-thumb.active {
  border-color: #ff5a5f;
  box-shadow: 0 4px 8px rgba(255, 90, 95, 0.2);
}

/* 詳細信息區域 */
.detail-info {
  padding: 30px;
}

.detail-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 25px;
  padding-bottom: 20px;
  border-bottom: 1px solid #e9ecef;
}

.detail-title {
  margin: 0;
  color: #212529;
  font-size: 28px;
  font-weight: 700;
  line-height: 1.3;
}

.detail-tag {
  display: inline-block;
  background-color: #ff5a5f;
  color: white;
  padding: 6px 12px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 600;
  margin-top: 10px;
}

.detail-price {
  font-size: 32px;
  color: #ff5a5f;
  font-weight: bold;
  white-space: nowrap;
}

/* 規格區域 */
.detail-specs {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  margin-bottom: 30px;
  padding: 25px;
  background-color: #f8f9fa;
  border-radius: 10px;
}

.spec-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  border-bottom: 1px solid #e9ecef;
}

.spec-item:last-child {
  border-bottom: none;
}

.spec-label {
  color: #6c757d;
  font-size: 16px;
  font-weight: 500;
}

.spec-value {
  color: #212529;
  font-weight: 600;
  font-size: 17px;
}

/* 描述區域 */
.detail-description {
  margin-bottom: 30px;
}

.detail-description h3 {
  color: #212529;
  margin-bottom: 15px;
  font-size: 20px;
  font-weight: 600;
}

.detail-description p {
  color: #495057;
  line-height: 1.7;
  font-size: 16px;
  margin-bottom: 15px;
}

/* 特色區域 */
.detail-features {
  margin-bottom: 30px;
}

.detail-features h3 {
  color: #212529;
  margin-bottom: 15px;
  font-size: 20px;
  font-weight: 600;
}

.features-list {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  padding-left: 20px;
}

.features-list li {
  color: #495057;
  margin-bottom: 8px;
  font-size: 15px;
}

/* 操作按鈕區域 */
.detail-actions {
  display: flex;
  gap: 15px;
  padding-top: 25px;
  border-top: 1px solid #e9ecef;
}

.action-btn {
  padding: 14px 24px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 15px;
  font-weight: 600;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.action-btn svg {
  width: 20px;
  height: 20px;
}

.btn-contact {
  background-color: #ff5a5f;
  color: white;
  flex: 2;
}

.btn-contact:hover {
  background-color: #ff3b40;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 90, 95, 0.3);
}

.btn-favorite {
  background-color: #ffffff;
  color: #495057;
  border: 1px solid #dee2e6;
  flex: 1;
}

.btn-favorite:hover {
  background-color: #f8f9fa;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.btn-favorite.active {
  background-color: #ff5a5f;
  color: white;
  border-color: #ff5a5f;
}

.btn-share {
  background-color: #f8f9fa;
  color: #495057;
  border: 1px solid #dee2e6;
  flex: 1;
}

.btn-share:hover {
  background-color: #e9ecef;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* 響應式設計 */
@media (max-width: 768px) {
  .main-container {
    padding: 15px;
  }
  
  .detail-main-image {
    height: 300px;
  }
  
  .detail-thumbnails {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .detail-thumb {
    height: 100px;
  }
  
  .detail-header {
    flex-direction: column;
    gap: 15px;
  }
  
  .detail-specs {
    grid-template-columns: 1fr;
  }
  
  .features-list {
    grid-template-columns: 1fr;
  }
  
  .detail-actions {
    flex-direction: column;
  }
}

@media (max-width: 480px) {
  .main-container {
    padding: 10px;
  }
  
  .detail-title {
    font-size: 24px;
  }
  
  .detail-price {
    font-size: 28px;
  }
  
  .detail-back-btn {
    padding: 10px 15px;
    font-size: 14px;
  }
  
  .action-btn {
    padding: 12px 20px;
    font-size: 14px;
  }
}

/* 重置篩選按鈕 */
.filter-actions {
  text-align: right;
  margin-bottom: 20px;
  padding: 0 25px;
}

.reset-btn {
  background-color: #6c757d;
  color: white;
  border: none;
  border-radius: 6px;
  padding: 8px 16px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: background-color 0.2s;
}

.reset-btn:hover {
  background-color: #5a6268;
}

/* ==================== */
/* 響應式設計 - 移動設備優化 */
/* ==================== */

@media (max-width: 1200px) {
  .center-wrapper {
    padding: 0 15px;
  }
  
  #filter-section {
    padding: 20px;
  }
  
  .filter-header {
    gap: 15px;
  }
  
  .filter-panel {
    padding-left: 70px;
  }
}

@media (max-width: 992px) {
  .center-wrapper {
    padding: 0 10px;
  }
  
  /* 篩選器調整 */
  .filter-group {
    padding: 12px 0;
  }
  
  .filter-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
  
  .filter-title {
    width: 100%;
    margin-bottom: 5px;
  }
  
  .filter-tabs {
    width: 100%;
  }
  
  .filter-panel {
    padding-left: 0;
    margin-left: 0;
  }
  
  /* 商品卡片調整 */
  .product-card {
    height: auto;
    flex-direction: column;
  }
  
  .product-left {
    width: 100%;
    height: 250px;
  }
  
  .product-right {
    padding: 20px;
  }
  
  .product-details {
    grid-template-columns: repeat(2, 1fr);
  }
  
  /* 詳細頁面調整 */
  .detail-main-image {
    height: 350px;
  }
  
  .detail-thumb {
    height: 80px;
  }
  
  .detail-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 15px;
  }
  
  .detail-price {
    align-self: flex-start;
  }
  
  .detail-specs {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  /* 篩選器完全響應式 */
  #filter-section {
    padding: 15px;
    margin-bottom: 20px;
  }
  
  .filter-tabs {
    flex-wrap: nowrap;
    overflow-x: auto;
    padding-bottom: 5px;
    gap: 8px;
  }
  
  .filter-tab, .more-filter-tab {
    white-space: nowrap;
    padding: 6px 12px;
    font-size: 12px;
  }
  
  /* 位置篩選器選項 */
  .location-option {
    font-size: 12px;
    padding: 6px 10px;
  }
  
  /* 更多篩選器下拉框 */
  .more-dropdown {
    min-width: 160px;
    max-height: 300px;
  }
  
  .more-option {
    padding: 8px 12px;
    font-size: 12px;
  }
  
  /* 商品區域 */
  .products-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
    margin-bottom: 20px;
  }
  
  .products-header h2 {
    font-size: 18px;
  }
  
  .product-count {
    font-size: 12px;
    align-self: flex-start;
  }
  
  .products-grid {
    gap: 20px;
  }
  
  /* 商品卡片 */
  .product-card {
    height: auto;
    flex-direction: column;
  }
  
  .product-left {
    height: 220px;
    width: 100%;
  }
  
  .product-right {
    padding: 18px;
  }
  
  .product-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
    margin-bottom: 15px;
  }
  
  .product-name {
    font-size: 16px;
  }
  
  .product-price {
    font-size: 20px;
    margin-left: 0;
  }
  
  .product-details {
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    padding: 15px 0;
    margin-bottom: 15px;
  }
  
  .detail-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 2px;
  }
  
  .detail-label, .detail-value {
    font-size: 12px;
  }
  
  .product-description {
    font-size: 13px;
    -webkit-line-clamp: 3;
    margin-bottom: 15px;
  }
  
  .product-detail-btn {
    padding: 8px 16px;
    font-size: 13px;
  }
  
  /* 詳細頁面 */
  .detail-back-btn {
    padding: 8px 12px;
    font-size: 14px;
  }
  
  .detail-images {
    padding: 15px;
  }
  
  .detail-main-image {
    height: 250px;
  }
  
  .detail-thumbnails {
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
  }
  
  .detail-thumb {
    height: 60px;
  }
  
  .detail-info {
    padding: 20px;
  }
  
  .detail-title {
    font-size: 22px;
  }
  
  .detail-price {
    font-size: 24px;
  }
  
  .detail-specs {
    padding: 15px;
    gap: 12px;
  }
  
  .spec-label, .spec-value {
    font-size: 14px;
  }
  
  .detail-description h3, .detail-features h3 {
    font-size: 18px;
  }
  
  .detail-description p {
    font-size: 14px;
  }
  
  .features-list {
    grid-template-columns: 1fr;
  }
  
  .features-list li {
    font-size: 13px;
  }
  
  .detail-actions {
    flex-direction: column;
    gap: 10px;
  }
  
  .action-btn {
    padding: 12px;
    font-size: 14px;
    justify-content: center;
    width: 100%;
  }
  
  /* 權狀下拉菜單 */
  .square-dropdown-menu {
    min-width: 80px;
  }
  
  .square-dropdown-item {
    padding: 8px 12px;
    font-size: 12px;
  }
  
  /* 自定義輸入框 */
  .custom-input-group {
    flex-wrap: wrap;
  }
  
  .custom-input-wrapper {
    width: 45%;
  }
  
  .custom-input {
    width: 100%;
  }
  
  .price-input-group, .square-input-group {
    flex-wrap: wrap;
  }
  
  .price-input-wrapper, .square-input-wrapper {
    width: 45%;
  }
  
  .price-confirm-btn, .square-confirm-btn {
    margin-top: 10px;
    width: 100%;
  }
}

@media (max-width: 576px) {
  /* 超小屏幕優化 */
  .center-wrapper {
    padding: 0 8px;
  }
  
  #filter-section {
    padding: 12px;
    border-radius: 8px;
  }
  
  /* 篩選器標籤水平滾動 */
  .filter-tabs {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 8px;
    margin-bottom: 5px;
  }
  
  /* 隱藏滾動條但保持功能 */
  .filter-tabs::-webkit-scrollbar {
    height: 4px;
  }
  
  .filter-tabs::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 2px;
  }
  
  .filter-tabs::-webkit-scrollbar-thumb {
    background: #ccc;
    border-radius: 2px;
  }
  
  /* 篩選器選項面板 */
  .filter-panel {
    overflow-x: auto;
    white-space: nowrap;
    padding-bottom: 8px;
  }
  
  .location-option {
    display: inline-flex;
    margin-bottom: 5px;
  }
  
  /* 商品卡片細節網格 */
  .product-details {
    grid-template-columns: 1fr;
    gap: 8px;
  }
  
  /* 詳細頁面圖片 */
  .detail-thumbnails {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .detail-thumb {
    height: 70px;
  }
  
  /* 自定義輸入框在小屏幕上完全垂直 */
  .custom-input-group {
    flex-direction: column;
    gap: 5px;
  }
  
  .custom-input-wrapper {
    width: 100%;
  }
  
  .custom-input-separator {
    display: none;
  }
  
  .price-input-group, .square-input-group {
    flex-direction: column;
    gap: 5px;
  }
  
  .price-input-wrapper, .square-input-wrapper {
    width: 100%;
  }
  
  .price-separator, .square-separator {
    display: none;
  }
  
  /* 重置按鈕 */
  .reset-btn {
    padding: 6px 12px;
    font-size: 13px;
  }
}

@media (max-width: 480px) {
  /* 最小屏幕特殊處理 */
  .product-left {
    height: 200px;
  }
  
  .product-right {
    padding: 15px;
  }
  
  .product-name {
    font-size: 15px;
  }
  
  .product-price {
    font-size: 18px;
  }
  
  .product-description {
    -webkit-line-clamp: 2;
  }
  
  /* 詳細頁面 */
  .detail-title {
    font-size: 20px;
  }
  
  .detail-price {
    font-size: 22px;
  }
  
  .detail-main-image {
    height: 200px;
  }
  
  .detail-thumb {
    height: 50px;
  }
  
  /* 篩選器下拉菜單 */
  .more-dropdown {
    position: fixed;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%);
    width: 90vw;
    max-width: 300px;
    z-index: 1100;
  }
  
  /* 權狀下拉菜單 */
  .square-dropdown-menu {
    position: fixed;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%);
    width: 150px;
    z-index: 1100;
  }
}

/* 橫屏模式優化 */
@media (max-height: 600px) and (orientation: landscape) {
  .product-card {
    height: 180px;
    flex-direction: row;
  }
  
  .product-left {
    width: 200px;
    height: 100%;
  }
  
  .product-right {
    padding: 15px;
  }
  
  .product-description {
    -webkit-line-clamp: 1;
  }
  
  /* 篩選器下拉菜單在橫屏時最大高度限制 */
  .more-dropdown {
    max-height: 50vh;
  }
}

/* 觸摸設備優化 */
@media (hover: none) and (pointer: coarse) {
  /* 增大觸摸目標 */
  .filter-tab, 
  .more-filter-tab,
  .location-option,
  .price-option,
  .shape-option,
  .layout-option,
  .square-option,
  .more-option {
    min-height: 44px;
    min-width: 44px;
  }
  
  .filter-tab, .more-filter-tab {
    padding: 12px 16px;
  }
  
  .product-detail-btn,
  .action-btn,
  .detail-back-btn,
  .reset-btn {
    min-height: 44px;
  }
  
  /* 移除懸停效果 */
  .filter-tab:hover,
  .location-option:hover,
  .price-option:hover,
  .shape-option:hover,
  .layout-option:hover,
  .square-option:hover,
  .more-option:hover {
    transform: none;
  }
  
  /* 增加間距防止誤觸 */
  .products-grid {
    gap: 15px;
  }
}

/* 高分辨率屏幕優化 */
@media (min-width: 1400px) {
  .center-wrapper {
    max-width: 1300px;
    margin: 0 auto;
  }
  
  .products-grid {
    grid-template-columns: repeat(auto-fill, minmax(600px, 1fr));
  }
}

/* 打印樣式 */
@media print {
  #filter-section,
  .detail-back-btn-container,
  .detail-actions,
  .product-detail-btn {
    display: none !important;
  }
  
  body {
    background-color: white !important;
  }
  
  .product-card {
    break-inside: avoid;
    box-shadow: none !important;
    border: 1px solid #ddd !important;
  }
  
  .detail-content {
    box-shadow: none !important;
    border: 1px solid #ddd !important;
  }
}

/* ==================== */
/* 移動設備篩選器優化 */
/* ==================== */

@media (max-width: 768px) {
  /* 篩選器容器優化 */
  #filter-section {
    padding: 12px 10px;
    margin-bottom: 15px;
    border-radius: 8px;
  }
  
  /* 篩選器組優化 */
  .filter-group {
    padding: 10px 0;
    margin: 0;
  }
  
  /* 篩選器標題與標籤布局優化 */
  .filter-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 8px;
  }
  
  .filter-title {
    font-size: 14px;
    height: 32px;
    min-width: 50px;
    margin-bottom: 0;
  }
  
  /* 篩選器標籤水平滾動容器 */
  .filter-tabs {
    display: flex;
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 6px;
    margin-bottom: 4px;
    scrollbar-width: thin;
    scrollbar-color: #ff5a5f #f1f1f1;
  }
  
  .filter-tabs::-webkit-scrollbar {
    height: 3px;
  }
  
  .filter-tabs::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 2px;
  }
  
  .filter-tabs::-webkit-scrollbar-thumb {
    background: #ff5a5f;
    border-radius: 2px;
  }
  
  /* 篩選器標籤按鈕優化 */
  .filter-tab {
    font-size: 12px;
    padding: 6px 10px;
    height: 32px;
    line-height: 18px;
    white-space: nowrap;
    flex-shrink: 0;
    border-radius: 4px;
  }
  
  /* 位置篩選器面板優化 */
  .filter-panel {
    padding-left: 0;
    margin-top: 8px;
    max-height: 200px;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  /* 位置選項優化 */
  .location-option {
    padding: 6px 8px;
    font-size: 12px;
    margin: 0 4px 4px 0;
    display: inline-flex;
    border-radius: 4px;
  }
  
  /* 更多篩選器按鈕優化 */
  .more-filter-tab {
    font-size: 12px;
    padding: 6px 10px;
    height: 32px;
    line-height: 18px;
  }
  
  /* 更多篩選器下拉框優化 */
  .more-dropdown {
    position: fixed;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    width: 90vw;
    max-width: 320px;
    max-height: 70vh;
    z-index: 1100;
    box-shadow: 0 8px 30px rgba(0,0,0,0.2);
    border: 1px solid #e0e0e0;
  }
  
  .more-option {
    padding: 12px 14px;
    font-size: 14px;
    min-height: 44px;
  }
  
  /* 自訂輸入框優化 */
  .custom-input-group {
    flex-direction: column;
    gap: 8px;
    padding: 10px;
  }
  
  .custom-input-wrapper {
    width: 100%;
  }
  
  .custom-input {
    font-size: 14px;
    height: 40px;
    padding: 0 10px;
  }
  
  .custom-input-confirm-btn {
    width: 100%;
    height: 40px;
    margin-top: 8px;
  }
  
  /* 權狀下拉菜單優化 */
  .square-dropdown-menu {
    position: fixed;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    width: 150px;
    z-index: 1100;
  }
  
  .square-dropdown-item {
    padding: 12px 14px;
    font-size: 14px;
  }
  
  /* 價格和權狀自訂輸入優化 */
  .custom-price-container,
  .custom-square-container {
    width: 100%;
    padding: 8px;
    background: #f8f9fa;
    border-radius: 6px;
    margin-top: 5px;
  }
  
  .price-input-group,
  .square-input-group {
    flex-direction: column;
    gap: 8px;
  }
  
  .price-input-wrapper,
  .square-input-wrapper {
    width: 100%;
  }
  
  .price-input,
  .square-input {
    width: 100%;
    height: 36px;
    font-size: 14px;
  }
  
  .price-confirm-btn,
  .square-confirm-btn {
    width: 100%;
    margin-top: 8px;
    height: 36px;
  }
}

/* 超小屏幕特殊處理 */
@media (max-width: 480px) {
  /* 篩選器區域進一步壓縮 */
  #filter-section {
    padding: 10px 8px;
  }
  
  /* 篩選器標題縮小 */
  .filter-title {
    font-size: 13px;
    height: 28px;
  }
  
  /* 篩選器標籤進一步縮小 */
  .filter-tab,
  .more-filter-tab {
    font-size: 11px;
    padding: 5px 8px;
    height: 28px;
    line-height: 16px;
  }
  
  /* 位置選項進一步優化 */
  .location-option {
    padding: 5px 6px;
    font-size: 11px;
  }
  
  /* 篩選器面板最大高度減小 */
  .filter-panel.open {
    max-height: 180px;
  }
  
  /* 更多篩選器下拉框更大 */
  .more-dropdown {
    width: 95vw;
    max-height: 80vh;
  }
  
  /* 重置按鈕優化 */
  .reset-btn {
    padding: 6px 12px;
    font-size: 12px;
    width: 100%;
    margin-top: 8px;
  }
}

/* 橫屏模式優化 */
@media (max-height: 600px) and (orientation: landscape) {
  .filter-panel.open {
    max-height: 150px;
  }
  
  .more-dropdown {
    max-height: 60vh;
  }
}

/* ==================== */
/* 觸摸設備優化 */
/* ==================== */

/* 增大觸摸目標 */
.filter-tab,
.location-option,
.price-option,
.shape-option,
.layout-option,
.square-option,
.more-option,
.more-filter-tab,
.reset-btn,
.filter-tab[data-value="不限"],
.filter-tab[data-value="自訂售價"],
.filter-tab[data-value="自訂坪數"] {
  min-height: 44px;
  min-width: 44px;
}

/* 觸摸反饋效果 */
.filter-tab:active,
.location-option:active,
.price-option:active,
.shape-option:active,
.layout-option:active,
.square-option:active,
.more-option:active,
.more-filter-tab:active,
.reset-btn:active {
  transform: scale(0.96);
  transition: transform 0.1s ease;
}

/* 防止觸摸時出現藍色高亮 */
.filter-tab,
.location-option,
.price-option,
.shape-option,
.layout-option,
.square-option,
.more-option,
.more-filter-tab,
.filter-title,
.square-dropdown-container {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  user-select: none;
}

/* 觸摸設備上的懸停效果替代 */
@media (hover: none) and (pointer: coarse) {
  .filter-tab:hover,
  .location-option:hover,
  .price-option:hover,
  .shape-option:hover,
  .layout-option:hover,
  .square-option:hover,
  .more-option:hover,
  .more-filter-tab:hover {
    transform: none;
  }
  
  .filter-tab:active,
  .location-option:active,
  .price-option:active,
  .shape-option:active,
  .layout-option:active,
  .square-option:active,
  .more-option:active,
  .more-filter-tab:active {
    opacity: 0.8;
  }
}

/* 篩選器下拉框觸摸滾動優化 */
.filter-panel,
.more-dropdown,
.square-dropdown-menu {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* 防止下拉框內的滾動傳播到父元素 */
.filter-panel::-webkit-scrollbar,
.more-dropdown::-webkit-scrollbar,
.square-dropdown-menu::-webkit-scrollbar {
  width: 4px;
}

.filter-panel::-webkit-scrollbar-track,
.more-dropdown::-webkit-scrollbar-track,
.square-dropdown-menu::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 2px;
}

.filter-panel::-webkit-scrollbar-thumb,
.more-dropdown::-webkit-scrollbar-thumb,
.square-dropdown-menu::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 2px;
}

/* ==================== */
/* 篩選器視覺一致性優化 */
/* ==================== */

/* 篩選器標籤統一間距 */
.filter-tab,
.more-filter-tab {
  margin: 0 4px 4px 0;
}

/* 選項視覺統一 */
.location-option,
.price-option,
.shape-option,
.layout-option,
.square-option,
.more-option {
  border-radius: 6px;
  border-width: 1.5px;
  font-weight: 500;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 選中狀態視覺強化 */
.filter-tab.active,
.location-option.active,
.price-option.active,
.shape-option.active,
.layout-option.active,
.square-option.active,
.more-option.active {
  border-width: 2px;
  box-shadow: 0 2px 8px rgba(255, 90, 95, 0.2);
}

/* 篩選器面板動畫優化 */
.filter-panel {
  transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              margin-top 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  opacity: 0;
  margin-top: 0;
}

.filter-panel.open {
  opacity: 1;
  margin-top: 8px;
}

/* 篩選器標題視覺強化 */
.filter-title {
  position: relative;
  padding-left: 0;
  color: #495057;
  font-weight: 600;
}

.filter-title::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 3px;
  height: 16px;
  background: #ff5a5f;
  border-radius: 2px;
}

/* 權狀下拉標題視覺優化 */
.square-dropdown-container {
  position: relative;
  cursor: pointer;
}

.square-title-text {
  font-weight: 600;
  color: #ff5a5f;
  transition: color 0.2s;
}

.square-dropdown-arrow {
  font-size: 12px;
  color: #6c757d;
  transition: transform 0.2s, color 0.2s;
}

.square-dropdown-container:hover .square-title-text {
  color: #ff3b40;
}

.square-dropdown-container:hover .square-dropdown-arrow {
  color: #ff5a5f;
}

/* 下拉菜單打開時的箭頭動畫 */
.square-dropdown-menu[style*="display: block"] + .square-dropdown-arrow {
  transform: rotate(180deg);
  color: #ff5a5f;
}

/* 更多篩選器按鈕視覺優化 */
.more-filter-tab {
  position: relative;
  overflow: hidden;
}

.more-filter-tab::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: #ff5a5f;
  transform: translateX(-100%);
  transition: transform 0.3s;
}

.more-filter-tab.active::after {
  transform: translateX(0);
}

/* 重置按鈕視覺優化 */
.reset-btn {
  background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);
  border: none;
  border-radius: 8px;
  font-weight: 600;
  letter-spacing: 0.5px;
  transition: all 0.3s;
  position: relative;
  overflow: hidden;
}

.reset-btn::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.reset-btn:active::after {
  width: 200px;
  height: 200px;
}

.reset-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(108, 117, 125, 0.3);
}

/* 篩選器選項的視覺層次 */
.filter-tab:not(.active) {
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
}

.filter-tab.active {
  background: linear-gradient(135deg, #fff5f5 0%, #ffeaea 100%);
}

/* 自訂輸入框視覺優化 */
.custom-input,
.price-input,
.square-input {
  border: 1.5px solid #dee2e6;
  border-radius: 6px;
  transition: border-color 0.3s, box-shadow 0.3s;
}

.custom-input:focus,
.price-input:focus,
.square-input:focus {
  border-color: #ff5a5f;
  box-shadow: 0 0 0 3px rgba(255, 90, 95, 0.1);
  outline: none;
}

/* 確認按鈕視覺優化 */
.custom-input-confirm-btn,
.price-confirm-btn,
.square-confirm-btn {
  background: linear-gradient(135deg, #ff5a5f 0%, #ff3b40 100%);
  border: none;
  border-radius: 6px;
  color: white;
  font-weight: 600;
  transition: all 0.3s;
}

.custom-input-confirm-btn:hover,
.price-confirm-btn:hover,
.square-confirm-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 90, 95, 0.3);
}

/* 篩選器分組視覺分隔 */
.filter-group {
  position: relative;
}

.filter-group::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 10%;
  width: 80%;
  height: 1px;
  background: linear-gradient(90deg, transparent, #e9ecef, transparent);
}

.filter-group:last-child::after {
  display: none;
}

/* ==================== */
/* 觸摸設備專用樣式 */
/* ==================== */

/* 觸摸反饋效果 */
.filter-tab.touch-active,
.location-option.touch-active,
.price-option.touch-active,
.shape-option.touch-active,
.layout-option.touch-active,
.square-option.touch-active,
.more-option.touch-active,
.more-filter-tab.touch-active,
.square-dropdown-item.touch-active,
.custom-input-confirm-btn.touch-active,
.price-confirm-btn.touch-active,
.square-confirm-btn.touch-active,
.reset-btn.touch-active {
  transform: scale(0.95);
  opacity: 0.9;
  transition: transform 0.1s, opacity 0.1s;
}

/* 觸摸設備上移除懸停效果 */
.touch-device:hover {
  transform: none !important;
}

/* 滾動容器視覺反饋 */
.filter-tabs.scrolling {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.filter-panel.scrolling {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* 觸摸設備上的主動滾動指示器 */
.filter-tabs::-webkit-scrollbar {
  height: 4px;
}

.filter-tabs::-webkit-scrollbar-track {
  background: rgba(0,0,0,0.05);
  border-radius: 2px;
}

.filter-tabs::-webkit-scrollbar-thumb {
  background: rgba(255, 90, 95, 0.5);
  border-radius: 2px;
}

.filter-tabs::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 90, 95, 0.7);
}

/* 移動設備上的文字大小優化 */
@media (max-width: 480px) {
  .touch-device {
    font-size: 14px !important;
  }
  
  .touch-device.filter-tab,
  .touch-device.more-filter-tab {
    font-size: 12px !important;
  }
}

/* ==================== */
/* 手機篩選器下拉選單樣式 */
/* ==================== */


  
  /* 顯示移動設備的下拉選單 */
  .filter-group .mobile-filter-dropdown {
    /* display: block !important; */
  }
  
  /* 篩選器組容器優化 */
  .filter-group {
    padding: 0;
    border-bottom: 1px solid #e9ecef;
    position: relative;
  }
  
  .filter-group:last-child {
    border-bottom: none;
  }
  
  /* 移動設備篩選器下拉容器 */
  .mobile-filter-dropdown {
    width: 100%;
    position: relative;
  }
  
  /* 下拉選單按鈕 */
  .mobile-dropdown-btn {
    width: 100%;
    padding: 14px 16px;
    background: #ffffff;
    border: none;
    border-radius: 0;
    text-align: left;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 15px;
    font-weight: 500;
    color: #495057;
    transition: background-color 0.2s;
    position: relative;
  }
  
  .mobile-dropdown-btn::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 16px;
    right: 16px;
    height: 1px;
    background: #f1f3f5;
  }
  
  .mobile-dropdown-btn:hover {
    background-color: #f8f9fa;
  }
  
  .mobile-dropdown-btn.active {
    color: #ff5a5f;
    font-weight: 600;
  }
  
  /* 下拉箭頭 */
  .mobile-dropdown-arrow {
    color: #868e96;
    font-size: 12px;
    transition: transform 0.3s;
  }
  
  .mobile-dropdown-btn.active .mobile-dropdown-arrow {
    transform: rotate(180deg);
    color: #ff5a5f;
  }
  
  /* 下拉選單內容 */
  .mobile-dropdown-menu {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: #ffffff;
    border: 1px solid #e9ecef;
    border-radius: 0 0 8px 8px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.12);
    z-index: 1000;
    max-height: 60vh;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  .mobile-dropdown-menu.active {
    display: block;
  }
  
  /* 下拉選單項目 */
  .mobile-dropdown-item {
    padding: 14px 16px;
    font-size: 14px;
    color: #495057;
    cursor: pointer;
    border-bottom: 1px solid #f8f9fa;
    transition: background-color 0.2s;
    display: flex;
    align-items: center;
  }
  
  .mobile-dropdown-item:last-child {
    border-bottom: none;
  }
  
  .mobile-dropdown-item:hover {
    background-color: #f8f9fa;
  }
  
  .mobile-dropdown-item.active {
    color: #ff5a5f;
    font-weight: 600;
    background-color: #fff5f5;
  }
  
  /* 特殊樣式：複選框項目 */
  .mobile-dropdown-item.checkbox-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  
  .mobile-checkbox {
    accent-color: #ff5a5f;
    width: 18px;
    height: 18px;
  }
  
  /* 特殊樣式：單選按鈕項目 */
  .mobile-dropdown-item.radio-item {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  
  .mobile-radio {
    accent-color: #ff5a5f;
    width: 18px;
    height: 18px;
  }
  
  /* 位置篩選器的特殊處理（因為有四個tab） */
  .mobile-location-tabs {
    display: flex;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    background: #f8f9fa;
    padding: 10px;
    border-bottom: 1px solid #e9ecef;
    gap: 8px;
  }
  
  .mobile-location-tab {
    padding: 8px 12px;
    background: #ffffff;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    font-size: 13px;
    color: #495057;
    cursor: pointer;
    white-space: nowrap;
    flex-shrink: 0;
  }
  
  .mobile-location-tab.active {
    color: #ff5a5f;
    border-color: #ff5a5f;
    background-color: #fff5f5;
    font-weight: 600;
  }
  
  /* 位置選項網格 */
  .mobile-location-options {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
    padding: 12px;
  }
  
  .mobile-location-option {
    padding: 10px;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    text-align: center;
    font-size: 13px;
    cursor: pointer;
  }
  
  .mobile-location-option.active {
    color: #ff5a5f;
    border-color: #ff5a5f;
    background-color: #fff5f5;
    font-weight: 600;
  }
  
  /* 更多篩選器的下拉選單特殊樣式 */
  .mobile-more-section {
    padding: 12px;
  }
  
  .mobile-more-title {
    font-size: 14px;
    color: #495057;
    margin-bottom: 8px;
    font-weight: 600;
  }
  
  /* 自訂輸入框在移動設備上的樣式 */
  .mobile-custom-input-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 6px;
    margin: 10px;
  }
  
  .mobile-custom-input-wrapper {
    width: 100%;
  }
  
  .mobile-custom-input {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    font-size: 14px;
  }
  
  .mobile-custom-input-confirm-btn {
    width: 100%;
    padding: 12px;
    background: #ff5a5f;
    color: white;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    margin-top: 8px;
  }
  
  /* 選中項目標記 */
  .mobile-selected-count {
    background: #ff5a5f;
    color: white;
    font-size: 12px;
    padding: 2px 6px;
    border-radius: 10px;
    margin-left: 8px;
  }
}

/* 480px 小手機進一步優化 */
@media (max-width: 480px) {
  .mobile-dropdown-btn {
    padding: 12px 14px;
    font-size: 14px;
  }
  
  .mobile-dropdown-item {
    padding: 12px 14px;
    font-size: 13px;
  }
  
  .mobile-location-options {
    grid-template-columns: 1fr;
  }
  
  .mobile-location-tab {
    padding: 6px 10px;
    font-size: 12px;
  }
  
  /* 價格和權狀的自訂輸入在更小的屏幕上垂直排列 */
  .mobile-custom-price-group,
  .mobile-custom-square-group {
    flex-direction: column;
  }
}

/* ==================== */
/* 桌面版篩選器 - 預設顯示 */
/* ==================== */

/* 桌面版結構 */
.filter-header,
.filter-panel,
.filter-tabs,
.more-tabs {
  display: flex; /* 或其他適當的顯示方式 */
}

/* 移動設備下拉選單 - 預設隱藏 */
.mobile-filter-dropdown {
  display: none;
}

/* ==================== */
/* 手機篩選器下拉選單樣式 (576px以下) */
/* ==================== */

@media (max-width: 576px) {
  /* 隱藏桌面版篩選器結構 */
  .filter-group .filter-header,
  .filter-group .filter-panel,
  .filter-group .filter-tabs,
  .filter-group .more-tabs {
    display: none !important;
  }
  
  /* 顯示移動設備的下拉選單 */
  .filter-group .mobile-filter-dropdown {
    display: block !important;
  }
  
  /* ... 其他移動設備專用樣式 ... */
}

/* ==================== */
/* 移動設備篩選器優化 (768px以下) */
/* ==================== */

@media (max-width: 768px) {
  /* 只優化樣式，不要隱藏/顯示切換 */
  /* 這裡放響應式優化樣式，但不要改變顯示/隱藏狀態 */
  
  /* 例如：調整邊距、字體大小等 */
  #filter-section {
    padding: 15px;
  }
  
  .filter-tab {
    font-size: 12px;
    padding: 6px 10px;
  }
  
  /* ... 其他優化樣式 ... */
}

/* 詳細頁樣式 */
.product-detail-section {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    z-index: 1000;
    overflow-y: auto;
    padding: 20px;
}

.product-detail-section.active {
    display: block;
}

.product-detail-container {
    display: flex;
    max-width: 1200px;
    margin: 0 auto;
    gap: 40px;
}

/* 圖片區域 */
.detail-images {
    flex: 1;
    min-width: 300px;
}

.main-image {
    width: 100%;
    height: auto;
    border-radius: 8px;
    margin-bottom: 10px;
}

/* 詳細資料區域 */
.detail-info {
    flex: 1;
    min-width: 300px;
}

.detail-title {
    font-size: 24px;
    margin-bottom: 20px;
    color: #333;
}

.detail-price-section {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
}

.price-label {
    font-weight: bold;
    color: #666;
    margin-right: 10px;
}

.price-value {
    font-size: 24px;
    color: #e74c3c;
    font-weight: bold;
}

/* 規格項目 */
.detail-specs {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin-bottom: 30px;
}

.spec-item {
    display: flex;
    justify-content: space-between;
    padding: 10px 0;
    border-bottom: 1px solid #eee;
}

.spec-label {
    color: #666;
}

.spec-value {
    font-weight: bold;
    color: #333;
}

/* 返回按鈕 */
.back-btn {
    position: fixed;
    top: 20px;
    left: 20px;
    background: #3498db;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    z-index: 1001;
}

.back-btn:hover {
    background: #2980b9;
}

/* 響應式設計 */
@media (max-width: 768px) {
    .product-detail-container {
        flex-direction: column;
    }
    
    .detail-specs {
        grid-template-columns: 1fr;
    }
    
    .back-btn {
        position: relative;
        top: auto;
        left: auto;
        margin-bottom: 20px;
    }
}

/* ==================== */
/* 商品詳細頁面 RWD 修復 */
/* ==================== */

/* 確保詳細頁面在所有屏幕尺寸下都能正確顯示 */
#product-detail-section,
.product-detail-section {
  display: block !important;
  position: static !important;
  height: auto !important;
  overflow: visible !important;
  background: white !important;
}

/* 確保詳細頁面內容不會被移動設備樣式影響 */
.detail-content,
.detail-images,
.detail-info,
.detail-specs,
.detail-description,
.detail-features,
.detail-actions {
  /* display: block !important; */
  position: static !important;
  width: 100% !important;
  max-width: 100% !important;
  height: auto !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* 修復移動設備上的佈局問題 */
@media (max-width: 768px) {
  /* 確保詳細頁面容器正確顯示 */
  #product-detail-section {
    position: relative !important;
    min-height: 100vh !important;
    padding: 15px !important;
    background: #f8f9fa !important;
  }
  
  /* 詳細內容容器 */
  .detail-content {
    background: white !important;
    border-radius: 12px !important;
    box-shadow: 0 2px 10px rgba(0,0,0,0.08) !important;
    overflow: hidden !important;
    margin-bottom: 20px !important;
  }
  
  /* 圖片區域優化 */
  .detail-images {
    padding: 15px !important;
  }
  
  .detail-main-image {
    width: 100% !important;
    height: 300px !important;
    object-fit: cover !important;
  }
  
  .detail-thumbnails {
    display: grid !important;
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 8px !important;
    margin-top: 10px !important;
  }
  
  .detail-thumb {
    width: 100% !important;
    height: 80px !important;
    object-fit: cover !important;
  }
  
  /* 信息區域優化 */
  .detail-info {
    padding: 20px !important;
  }
  
  .detail-header {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 15px !important;
  }
  
  .detail-title {
    font-size: 22px !important;
    line-height: 1.3 !important;
  }
  
  .detail-price {
    font-size: 24px !important;
    align-self: flex-start !important;
  }
  
  /* 規格區域優化 */
  .detail-specs {
    grid-template-columns: 1fr !important;
    gap: 12px !important;
    padding: 15px !important;
  }
  
  .spec-item {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 4px !important;
    padding: 10px 0 !important;
  }
  
  .spec-label {
    font-size: 14px !important;
    color: #6c757d !important;
  }
  
  .spec-value {
    font-size: 15px !important;
    color: #212529 !important;
  }
  
  /* 描述和特色區域 */
  .detail-description,
  .detail-features {
    padding: 0 5px !important;
  }
  
  .detail-description h3,
  .detail-features h3 {
    font-size: 18px !important;
    margin-bottom: 12px !important;
  }
  
  .detail-description p {
    font-size: 15px !important;
    line-height: 1.6 !important;
  }
  
  .features-list {
    grid-template-columns: 1fr !important;
    gap: 8px !important;
  }
  
  .features-list li {
    font-size: 14px !important;
  }
  
  /* 操作按鈕優化 */
  .detail-actions {
    flex-direction: column !important;
    gap: 10px !important;
    padding: 20px 15px !important;
  }
  
  .action-btn {
    width: 100% !important;
    justify-content: center !important;
  }
  
  /* 返回按鈕優化 */
  .detail-back-btn-container {
    margin-bottom: 15px !important;
  }
  
  .detail-back-btn {
    width: 100% !important;
    justify-content: center !important;
  }
}

/* 超小屏幕進一步優化 */
@media (max-width: 480px) {
  #product-detail-section {
    padding: 10px !important;
  }
  
  .detail-main-image {
    height: 250px !important;
  }
  
  .detail-thumb {
    height: 60px !important;
  }
  
  .detail-title {
    font-size: 20px !important;
  }
  
  .detail-price {
    font-size: 22px !important;
  }
  
  .detail-info {
    padding: 15px !important;
  }
}

/* ==================== */
/* 修復篩選器與詳細頁面的衝突 */
/* ==================== */

/* 確保篩選器隱藏規則不影響詳細頁面 */
#product-detail-section .filter-header,
#product-detail-section .filter-panel,
#product-detail-section .filter-tabs,
#product-detail-section .mobile-filter-dropdown {
  display: none !important;
}

/* 當顯示詳細頁面時，隱藏主內容和篩選器 */
#product-detail-section[style*="display: block"] ~ #main-content,
#product-detail-section.active ~ #main-content {
  display: none !important;
}

/* 確保詳細頁面顯示時，身體沒有滾動條 */
body.detail-active {
  overflow: hidden !important;
}

/* ==================== */
/* JavaScript動態添加的類別樣式 */
/* ==================== */

/* 用於控制詳細頁面顯示的類別 */
.page-transition {
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.page-hidden {
  opacity: 0 !important;
  transform: translateY(20px) !important;
  pointer-events: none !important;
}

.page-visible {
  opacity: 1 !important;
  transform: translateY(0) !important;
  pointer-events: all !important;
}

/* ==================== */
/* 修復：商品詳細頁面顯示問題 */
/* ==================== */

/* 移除衝突的固定顯示規則 */
#product-detail-section,
.product-detail-section {
  /* 移除 !important 強制顯示規則，改用正常控制 */
  position: relative;
  height: auto;
  overflow: visible;
  background: white;
  display: none; /* 預設隱藏，由 active 類別控制 */
}

/* 當詳細頁面啟用時顯示 */
#product-detail-section.active,
.product-detail-section.active {
  display: block;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* ==================== */
/* 確保主內容和詳細頁面切換正常 */
/* ==================== */

/* 當詳細頁面顯示時，隱藏主內容 */
#product-detail-section.active ~ #main-content,
.product-detail-section.active ~ #main-content,
body.has-detail-active #main-content {
  display: none !important;
}

/* 當詳細頁面顯示時，body 添加類別 */
body.has-detail-active {
  overflow: hidden;
  background: #f8f9fa;
}

/* ==================== */
/* 詳細頁面容器和佈局 */
/* ==================== */

.detail-content {
  background-color: #ffffff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  border: 1px solid #e9ecef;
  margin-bottom: 30px;
}

/* ==================== */
/* 網頁版詳細頁面樣式 */
/* ==================== */

@media (min-width: 769px) {
  /* 確保詳細頁面在網頁版正確顯示 */
  #product-detail-section.active,
  .product-detail-section.active {
    display: block;
    position: relative;
    width: 100%;
    margin-top: 30px;
    margin-bottom: 50px;
  }
  
  /* 詳細內容佈局 - 網頁版兩欄 */
  .detail-content {
    display: flex;
    flex-direction: row;
    gap: 40px;
    padding: 0;
  }
  
  /* 圖片區域 - 左側 */
  .detail-images {
    flex: 1;
    min-width: 0;
    padding: 30px;
    background-color: #f8f9fa;
  }
  
  /* 信息區域 - 右側 */
  .detail-info {
    flex: 1;
    min-width: 0;
    padding: 30px;
    display: flex;
    flex-direction: column;
  }
  
  /* 圖片樣式 */
  .detail-main-image {
    width: 100%;
    height: 450px;
    object-fit: cover;
    border-radius: 10px;
  }
  
  .detail-thumbnails {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin-top: 15px;
  }
  
  .detail-thumb {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
    border: 3px solid transparent;
  }
  
  /* 標題和價格佈局 */
  .detail-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 25px;
    padding-bottom: 20px;
    border-bottom: 1px solid #e9ecef;
  }
  
  .detail-title {
    margin: 0;
    color: #212529;
    font-size: 28px;
    font-weight: 700;
    line-height: 1.3;
    flex: 1;
  }
  
  .detail-price {
    font-size: 32px;
    color: #ff5a5f;
    font-weight: bold;
    white-space: nowrap;
    margin-left: 20px;
  }
  
  /* 規格區域 */
  .detail-specs {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 30px;
    padding: 25px;
    background-color: #f8f9fa;
    border-radius: 10px;
  }
  
  /* 描述和特色 */
  .detail-description,
  .detail-features {
    margin-bottom: 30px;
  }
  
  .features-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    padding-left: 20px;
  }
  
  /* 操作按鈕 */
  .detail-actions {
    display: flex;
    gap: 15px;
    padding-top: 25px;
    border-top: 1px solid #e9ecef;
    margin-top: auto;
  }
  
  .action-btn {
    padding: 14px 24px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 15px;
    font-weight: 600;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
  }
  
  .btn-contact {
    background-color: #ff5a5f;
    color: white;
    flex: 2;
  }
  
  .btn-favorite {
    background-color: #ffffff;
    color: #495057;
    border: 1px solid #dee2e6;
    flex: 1;
  }
  
  .btn-share {
    background-color: #f8f9fa;
    color: #495057;
    border: 1px solid #dee2e6;
    flex: 1;
  }
}

/* ==================== */
/* 移動設備詳細頁面樣式 (覆蓋原有問題設定) */
/* ==================== */

@media (max-width: 768px) {
  /* 確保詳細頁面在移動設備顯示 */
  #product-detail-section.active,
  .product-detail-section.active {
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    z-index: 1000;
    overflow-y: auto;
    padding: 20px;
    margin: 0;
  }
  
  /* 移動設備返回按鈕 */
  .detail-back-btn-container {
    position: sticky;
    top: 0;
    background: white;
    padding: 10px 0;
    margin-bottom: 15px;
    z-index: 10;
  }
  
  .detail-back-btn {
    width: 100%;
    justify-content: center;
  }
  
  /* 移動設備單欄佈局 */
  .detail-content {
    display: block;
  }
  
  /* 圖片區域優化 */
  .detail-images {
    padding: 15px;
  }
  
  .detail-main-image {
    height: 300px;
  }
  
  .detail-thumbnails {
    grid-template-columns: repeat(4, 1fr);
  }
  
  .detail-thumb {
    height: 80px;
  }
  
  /* 信息區域優化 */
  .detail-info {
    padding: 20px;
  }
  
  .detail-header {
    flex-direction: column;
    gap: 15px;
  }
  
  .detail-price {
    align-self: flex-start;
  }
  
  /* 規格單欄 */
  .detail-specs {
    grid-template-columns: 1fr;
  }
  
  /* 特色單欄 */
  .features-list {
    grid-template-columns: 1fr;
  }
  
  /* 操作按鈕垂直排列 */
  .detail-actions {
    flex-direction: column;
  }
}

/* ==================== */
/* 超小屏幕進一步優化 */
/* ==================== */

@media (max-width: 480px) {
  #product-detail-section.active,
  .product-detail-section.active {
    padding: 15px;
  }
  
  .detail-main-image {
    height: 250px;
  }
  
  .detail-thumb {
    height: 60px;
  }
  
  .detail-thumbnails {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .detail-title {
    font-size: 24px;
  }
  
  .detail-price {
    font-size: 28px;
  }
}

/* ==================== */
/* 確保篩選器和詳細頁面不衝突 */
/* ==================== */

/* 當詳細頁面顯示時，篩選器必須隱藏 */
#product-detail-section.active ~ #filter-section,
.product-detail-section.active ~ #filter-section {
  display: none !important;
}

/* 確保主內容容器正常 */
.main-container {
  position: relative;
}

/* ==================== */
/* JavaScript 交互狀態類別 */
/* ==================== */

/* 頁面過渡效果 */
.page-transition {
  transition: opacity 0.3s ease, transform 0.3s ease;
}

/* 隱藏狀態 */
.page-hidden {
  opacity: 0;
  transform: translateY(20px);
  pointer-events: none;
  display: none !important;
}

/* 顯示狀態 */
.page-visible {
  opacity: 1;
  transform: translateY(0);
  pointer-events: all;
  display: block !important;
}

/* ==================== */
/* 確保按鈕和交互元素可點擊 */
/* ==================== */

.detail-back-btn,
.action-btn,
.product-detail-btn {
  cursor: pointer;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* 觸摸反饋 */
.detail-back-btn:active,
.action-btn:active,
.product-detail-btn:active {
  transform: scale(0.98);
}

/* ==================== */
/* 修復可能的重複和衝突樣式 */
/* ==================== */

/* 移除可能導致衝突的重複樣式 */
#product-detail-section .filter-header,
#product-detail-section .filter-panel,
#product-detail-section .filter-tabs,
#product-detail-section .mobile-filter-dropdown {
  display: none !important;
}

/* 確保詳細頁面內的元素正常顯示 */
#product-detail-section .detail-content,
#product-detail-section .detail-images,
#product-detail-section .detail-info,
#product-detail-section .detail-specs,
#product-detail-section .detail-description,
#product-detail-section .detail-features,
#product-detail-section .detail-actions {
  /* display: block !important; */
  visibility: visible !important;
  opacity: 1 !important;
}

/* ==================== */
/* 修復 .detail-info 顯示問題 */
/* ==================== */

/* 移除衝突的 !important 規則 */
@media (min-width: 769px) {
  .detail-info {
    display: flex !important;
    flex-direction: column !important;
    flex: 1 !important;
    min-width: 300px !important;
    padding: 30px !important;
    opacity: 1 !important;
    visibility: visible !important;
  }
}

/* 確保在詳細頁面中正確顯示 */
#product-detail-section.active .detail-info,
.product-detail-section.active .detail-info {
  display: flex !important;
  flex-direction: column !important;
}

/* 修復移動設備上的顯示 */
@media (max-width: 768px) {
  .detail-info {
    display: block !important;
    width: 100% !important;
    padding: 20px !important;
  }
}

/* ==================== */
/* 確保 flex 佈局正常工作 */
/* ==================== */

/* 網頁版兩欄佈局 */
@media (min-width: 769px) {
  .product-detail-container {
    display: flex !important;
    flex-direction: row !important;
    gap: 40px !important;
    align-items: flex-start !important;
  }
  
  .detail-images,
  .detail-info {
    flex: 1 !important;
    min-width: 0 !important; /* 允許 flex 項目收縮 */
  }
}

/* ==================== */
/* 覆蓋有問題的通用規則 */
/* ==================== */

/* 第1445行附近的規則太通用，需要更具體 */
#product-detail-section .detail-info,
.product-detail-section .detail-info {
  /* 移除可能衝突的屬性 */
  display: flex !important;
  position: relative !important;
  width: auto !important;
  max-width: none !important;
  height: auto !important;
}


/* ==================== */
/* 修復：網頁版詳細內容無法滾動問題 */
/* ==================== */

/* 移除所有導致內容無法滾動的 overflow: hidden 設定 */
.detail-content {
  overflow: visible !important; /* 改為 visible，允許內容溢出 */
  max-height: none !important;  /* 移除最大高度限制 */
  height: auto !important;      /* 高度自動，根據內容擴展 */
}

/* 修復網頁版滾動問題 */
@media (min-width: 769px) {
  /* 詳細頁面容器允許滾動 */
  #product-detail-section.active,
  .product-detail-section.active {
    overflow-y: auto !important;  /* 允許垂直滾動 */
    max-height: 100vh !important; /* 限制在視窗高度內 */
    position: fixed !important;   /* 固定定位，覆蓋整個視窗 */
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    z-index: 1000 !important;
    background: white !important;
  }
  
  /* 詳細內容容器 */
  .detail-content {
    display: flex !important;
    flex-direction: row !important;
    gap: 40px !important;
    padding: 0 !important;
    min-height: 100vh !important; /* 確保至少佔滿整個視窗 */
    overflow: visible !important;
  }
  
  /* 圖片區域 - 固定寬度，允許滾動 */
  .detail-images {
    flex: 0 0 45% !important; /* 固定寬度為45% */
    max-width: 45% !important;
    position: sticky !important;
    top: 0 !important;
    height: 100vh !important;
    overflow-y: auto !important; /* 允許圖片區域單獨滾動 */
    padding: 30px !important;
  }
  
  /* 信息區域 - 可滾動的內容 */
  .detail-info {
    flex: 1 !important;
    min-width: 0 !important;
    padding: 40px 30px 40px 0 !important;
    height: auto !important;
    overflow: visible !important;
  }
  
  /* 確保信息區域內的內容可以正常顯示和滾動 */
  .detail-header,
  .detail-specs,
  .detail-description,
  .detail-features,
  .detail-actions {
    width: 100% !important;
    max-width: 100% !important;
    overflow: visible !important;
  }
  
  /* 主圖片尺寸調整 */
  .detail-main-image {
    width: 100% !important;
    height: auto !important;
    max-height: 500px !important;
    object-fit: contain !important; /* 確保完整顯示圖片 */
  }
}

/* ==================== */
/* 修復移動設備滾動問題 */
/* ==================== */

@media (max-width: 768px) {
  /* 移動設備使用正常的頁面滾動 */
  #product-detail-section.active,
  .product-detail-section.active {
    position: relative !important;
    height: auto !important;
    min-height: 100vh !important;
    padding: 0 0 40px 0 !important;
  }
  
  .detail-content {
    display: block !important;
    overflow: visible !important;
  }
  
  .detail-images {
    position: relative !important;
    height: auto !important;
  }
  
  .detail-info {
    padding: 20px !important;
  }
}

/* ==================== */
/* 確保所有內容都能正常顯示 */
/* ==================== */

/* 移除任何可能限制高度的設定 */
.detail-specs,
.detail-description,
.detail-features {
  max-height: none !important;
  overflow: visible !important;
}

/* 修復列表項目 */
.features-list {
  max-height: none !important;
  overflow: visible !important;
}

.features-list li {
  display: list-item !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* ==================== */
/* 調試輔助樣式（可選，用於確認修復） */
/* ==================== */

/* 臨時添加邊框查看區域邊界 */
.detail-content.debug {
  border: 2px solid #00ff00 !important;
}

.detail-images.debug {
  border: 2px solid #ff0000 !important;
}

.detail-info.debug {
  border: 2px solid #0000ff !important;
  min-height: 200px !important; /* 確保最小高度 */
}

/* ==================== */
/* 詳細頁面滾動修復 */
/* ==================== */

/* 移除所有限制滾動的 overflow: hidden 設定 */
#product-detail-section,
.product-detail-section,
.detail-content,
.detail-info,
.detail-specs,
.detail-description,
.detail-features {
  overflow: visible !important;
  overflow-y: visible !important;
  max-height: none !important;
  height: auto !important;
}

/* 確保詳細頁面容器可以滾動 */
#product-detail-section.active,
.product-detail-section.active {
  display: block !important;
  position: relative !important;
  min-height: 100vh !important;
  overflow-y: auto !important;
  z-index: 10 !important;
}

/* 修復網頁版詳細頁面滾動 */
@media (min-width: 769px) {
  /* 網頁版：詳細頁面佔據整個頁面，可滾動 */
  #product-detail-section.active,
  .product-detail-section.active {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    background: white !important;
    z-index: 1000 !important;
    overflow-y: auto !important;
    padding: 20px !important;
  }
  
  /* 詳細內容容器 - 確保內容完整顯示 */
  .detail-content {
    display: flex !important;
    flex-direction: row !important;
    gap: 40px !important;
    max-width: 1200px !important;
    margin: 0 auto !important;
    min-height: 100vh !important;
    padding: 0 20px !important;
    overflow: visible !important;
  }
  
  /* 圖片區域 */
  .detail-images {
    flex: 0 0 45% !important;
    max-width: 45% !important;
    position: sticky !important;
    top: 20px !important;
    align-self: flex-start !important;
    height: fit-content !important;
    max-height: calc(100vh - 40px) !important;
    overflow-y: auto !important;
    padding: 20px !important;
    border-radius: 12px !important;
    background: #f8f9fa !important;
  }
  
  /* 信息區域 - 可滾動內容 */
  .detail-info {
    flex: 1 !important;
    padding: 0 0 40px 0 !important;
    overflow: visible !important;
    min-height: 100vh !important;
  }
  
  /* 確保所有內容區塊都可見 */
  .detail-specs,
  .detail-description,
  .detail-features,
  .detail-actions {
    width: 100% !important;
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
    margin-bottom: 30px !important;
  }
  
  /* 修復圖片尺寸 */
  .detail-main-image {
    width: 100% !important;
    height: auto !important;
    max-height: 500px !important;
    object-fit: contain !important;
  }
  
  /* 返回按鈕固定在左上角 */
  .detail-back-btn-container {
    position: fixed !important;
    top: 30px !important;
    left: 30px !important;
    z-index: 1001 !important;
  }
  
  .detail-back-btn {
    background: white !important;
    border: 1px solid #e9ecef !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1) !important;
  }
}

/* ==================== */
/* 移動設備詳細頁面滾動修復 */
/* ==================== */

@media (max-width: 768px) {
  /* 移動設備：詳細頁面佔據全屏，可滾動 */
  #product-detail-section.active,
  .product-detail-section.active {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    background: white !important;
    z-index: 1000 !important;
    overflow-y: auto !important;
    padding: 15px !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  /* 單欄佈局 */
  .detail-content {
    display: block !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow: visible !important;
    padding-bottom: 40px !important;
  }
  
  /* 圖片區域 */
  .detail-images {
    width: 100% !important;
    max-width: 100% !important;
    margin-bottom: 20px !important;
  }
  
  .detail-main-image {
    width: 100% !important;
    height: 300px !important;
    object-fit: cover !important;
  }
  
  /* 信息區域 */
  .detail-info {
    width: 100% !important;
    padding: 0 !important;
    overflow: visible !important;
  }
  
  /* 返回按鈕固定在頂部 */
  .detail-back-btn-container {
    position: sticky !important;
    top: 0 !important;
    background: white !important;
    padding: 10px 0 15px 0 !important;
    margin-bottom: 15px !important;
    z-index: 10 !important;
  }
  
  .detail-back-btn {
    width: 100% !important;
    justify-content: center !important;
    background: #f8f9fa !important;
  }
}

/* ==================== */
/* 超小屏幕額外優化 */
/* ==================== */

@media (max-width: 480px) {
  #product-detail-section.active,
  .product-detail-section.active {
    padding: 10px !important;
  }
  
  .detail-main-image {
    height: 250px !important;
  }
  
  .detail-thumb {
    height: 60px !important;
  }
}

/* ==================== */
/* 移除衝突的舊設定 */
/* ==================== */

/* 檢查並覆蓋任何可能導致滾動問題的舊設定 */
body {
  overflow-x: hidden !important;
}

/* 當詳細頁面顯示時，禁止 body 滾動 */
body.has-active-detail {
  overflow: hidden !important;
}

/* 確保詳細頁面能接收滾動事件 */
#product-detail-section.active *,
.product-detail-section.active * {
  pointer-events: auto !important;
}

/* ==================== */
/* 修復返回按鈕顯示問題 */
/* ==================== */

/* 確保詳細頁面隱藏時，其內的所有元素也隱藏 */
#product-detail-section:not(.active),
.product-detail-section:not(.active) {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* 詳細頁面顯示時，返回按鈕才顯示 */
#product-detail-section.active .detail-back-btn-container,
.product-detail-section.active .detail-back-btn-container {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: all !important;
}

/* 網頁版返回按鈕定位修復 */
@media (min-width: 769px) {
  /* 返回按鈕容器 - 只有在詳細頁面內才顯示 */
  .detail-back-btn-container {
    position: fixed !important;
    top: 30px !important;
    left: 30px !important;
    z-index: 1001 !important;
    display: none !important; /* 預設隱藏 */
  }
  
  /* 當詳細頁面顯示時才顯示返回按鈕 */
  #product-detail-section.active .detail-back-btn-container,
  .product-detail-section.active .detail-back-btn-container {
    display: block !important;
    animation: fadeInBtn 0.3s ease 0.2s both;
  }
  
  @keyframes fadeInBtn {
    from { opacity: 0; transform: translateX(-10px); }
    to { opacity: 1; transform: translateX(0); }
  }
  
  /* 返回按鈕樣式 */
  .detail-back-btn {
    display: inline-flex !important;
    align-items: center !important;
    gap: 8px !important;
    padding: 12px 20px !important;
    background: white !important;
    border: 1px solid #e9ecef !important;
    border-radius: 8px !important;
    color: #495057 !important;
    font-weight: 600 !important;
    cursor: pointer !important;
    transition: all 0.3s !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1) !important;
    text-decoration: none !important;
  }
  
  .detail-back-btn:hover {
    background: #f8f9fa !important;
    transform: translateX(-2px) !important;
    box-shadow: 0 6px 16px rgba(0,0,0,0.12) !important;
  }
}

/* ==================== */
/* 移動設備返回按鈕修復 */
/* ==================== */

@media (max-width: 768px) {
  .detail-back-btn-container {
    position: sticky !important;
    top: 0 !important;
    background: white !important;
    padding: 15px 0 !important;
    margin-bottom: 15px !important;
    z-index: 10 !important;
    display: none !important; /* 預設隱藏 */
  }
  
  /* 當詳細頁面顯示時才顯示返回按鈕 */
  #product-detail-section.active .detail-back-btn-container,
  .product-detail-section.active .detail-back-btn-container {
    display: block !important;
  }
  
  .detail-back-btn {
    width: 100% !important;
    justify-content: center !important;
    padding: 14px !important;
    background: #f8f9fa !important;
    border: 1px solid #dee2e6 !important;
    font-size: 15px !important;
  }
}

/* ==================== */
/* 修復主內容區域按鈕衝突 */
/* ==================== */

/* 確保主內容區域不會有固定定位的返回按鈕 */
#main-content .detail-back-btn-container,
#main-content .detail-back-btn {
  display: none !important;
  visibility: hidden !important;
}

/* 確保商品列表區域沒有返回按鈕 */
.products-header .detail-back-btn-container,
.product-card .detail-back-btn-container {
  display: none !important;
}

/* ==================== */
/* JavaScript 交互修復 */
/* ==================== */

/* 用於 JavaScript 控制的狀態類 */
.detail-back-btn-container.hidden {
  display: none !important;
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

.detail-back-btn-container.visible {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: all !important;
}

/* ==================== */
/* 緊急修復：確保按鈕不會遺留在頁面上 */
/* ==================== */

/* 當不在詳細頁面時，隱藏所有固定定位的返回按鈕 */
body:not(.detail-active) .detail-back-btn-container[style*="position: fixed"],
body:not(.detail-active) .detail-back-btn-container[style*="fixed"] {
  display: none !important;
  visibility: hidden !important;
}

/* 確保詳細頁面完全隱藏時，其子元素也隱藏 */
#product-detail-section:not(.active) *,
.product-detail-section:not(.active) * {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* ==================== */
/* 新增：防止按鈕重複出現的修復 */
/* ==================== */

/* 檢查是否有重複的按鈕元素 */
.detail-back-btn-container:not(:first-of-type) {
  display: none !important;
}

/* 確保按鈕只出現在詳細頁面內部 */
#product-detail-section > .detail-back-btn-container,
.product-detail-section > .detail-back-btn-container {
  /* 這是正確的位置 */
}

/* 其他地方的相同按鈕應該隱藏 */
.main-container > .detail-back-btn-container,
#filter-section .detail-back-btn-container,
#product-section .detail-back-btn-container {
  display: none !important;
}
